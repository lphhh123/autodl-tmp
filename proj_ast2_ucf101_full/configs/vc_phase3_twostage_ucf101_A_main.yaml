# A5 main-table protocol (Version-C two-stage):
# - eval uses clip_len=16 only (stable comparison)
# - retention moderate + stride_ratio to control clip count without large accuracy loss

_base_: configs/vc_phase3_twostage_ucf101.yaml

data:
  clip_lens_train: [16]
  clip_lens_eval: [16]
  train_stride_ratio: 0.75
  eval_stride_ratio: 0.75

  window_retention:
    enabled: false

test:
  run_final_test: true

training:
  outer_epochs: 50
  inner_steps_ast: -1
  # Perf: when lambda_hw_eff==0, skip HW proxy forward (does not change gradients).
  # Keep evaluation (val_acc1) unchanged.
  compute_hw_when_lambda0: false

train:
  grad_clip_norm: 1.0
  warn_every_steps: 200
  nan_guard_warn_every_steps: 200
